Parsing Pipeline

byte[] block

-> linesplitter->

byte[] one line at a time
state: line number

-> comment searcher ->
look for comment

byte[] line, start after comment and whitespace
state: line number, comment flag, within block comment flag

-> snippet searcher ->
look for snippet start character
drop if not snippet

byte[] line
state: line number, comment flag, snippet flag, tag







Procedural:

Parse one line at a time
Determine if line is a comment (line comment or within block comment)
Determine if text begins a snippet
Construct snippet metadata
Parse lines until end of snippet is detected
